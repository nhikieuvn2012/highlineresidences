(function(n,t){n.gehc={util:{namespacify:function(n,t){return typeof n!="undefined"&&(t=n+"."+t),t},reverseString:function(n){return n.split("").reverse().join("")},truncateWithEllipsis:function(n,t){var i;return t-=3,n.length>t?(i=n.substr(0,t),i=i.replace(/\s+(\S*)$/,"...")):i=n,i},touchify:function(n){_.each(n.events,function(t,i){_.each({mouseleave:"touchstartoutside",mouseenter:"touchstart"},function(n,r){var u;u=new RegExp(r),u.test(i)&&(this.events[i.replace(u,n)]=t)},n)},n),n.delegateEvents()},embedVideo:function(n,i,r){var u=_.defaults(r,{width:640,height:480}),o=typeof i=="String"?t(i):i,f,e;if(o.width(u.width),n.indexOf("youtube")>=0)f=document.createElement("div"),e="swf"+Math.floor(Math.random()*100001),f.setAttribute("id",e),o.append(f),swfobject.embedSWF(n,e,u.width,u.height,"10","",{},{bgcolor:"#000000",wmode:"opaque"},{});else if(!Modernizr.video||!Modernizr.video.h264){var f=document.createElement("div"),e="swf"+Math.floor(Math.random()*100001),s=""+(parseInt(u.height,10)+50);f.setAttribute("id",e),o.append(f),swfobject.embedSWF("/_gehc/flash/ge_videoplayer.swf",e,u.width,s,"10","",{src:n,width:u.width,height:u.height,autoplay:"true"},{wmode:"transparent",allowScriptAccess:"always",allowFullScreen:"true",menu:"true"},{})}else _V_.players["gehc-player"]!=null&&delete _V_.players["gehc-player"],t(document.createElement("video")).attr({controls:!0,height:u.height,width:u.width,autoplay:!0,id:"gehc-player","class":"video-js vjs-gehc-skin"}).append(t(document.createElement("source")).attr({src:n,type:"video/mp4"})).appendTo(o),_V_("gehc-player",{},function(){})},responsive:{init:function(){if(this.mode="desktop",window.matchMedia){var n=window.matchMedia("(max-width: 480px) and (orientation: portrait)"),t=window.matchMedia("(max-width: 800px) and (orientation: landscape)"),i=window.matchMedia("(min-width: 481px) and (orientation: portrait)"),r=window.matchMedia("(min-width: 801px) and (orientation: landscape)");n.addListener(this.checkMobileMediaQuery),t.addListener(this.checkMobileMediaQuery),i.addListener(this.checkDesktopMediaQuery),r.addListener(this.checkDesktopMediaQuery),this.checkMobileMediaQuery(n),this.checkMobileMediaQuery(t),this.checkDesktopMediaQuery(i),this.checkDesktopMediaQuery(r)}},checkMobileMediaQuery:function(n){n.matches&&this.mode!="mobile"&&(this.mode="mobile",pubsub.publish("gehc.util.responsive",["mobile"]))},checkDesktopMediaQuery:function(n){n.matches&&this.mode!="desktop"&&(this.mode="desktop",pubsub.publish("gehc.util.responsive",["desktop"]))}}}}})(this,jQuery)